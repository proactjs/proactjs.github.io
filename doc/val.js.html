<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: objects/val.js</title>
    
    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">
    
    <h1 class="page-title">Source: objects/val.js</h1>
    
    


    
    <section>
        <article>
            <pre class="prettyprint source"><code>/**
 * &lt;p>
 *  Constructs a ProAct.Val. The ProAct.Vals are the simplest ProAct.js reactive objects, they have only one property - 'v' and all their methods,
 *  extended from {@link ProAct.Observable} delegate to it.
 * &lt;/p>
 * &lt;p>
 *  Like every object turned to ProAct.js reactive one, the ProAct.Val has a {@link ProAct.ObjectCore} managing its single {@link ProAct.Property}.
 * &lt;/p>
 * &lt;p>
 *  The core can be accessed via:
 *  &lt;pre>
 *    var core = v.p();
 *  &lt;/pre>
 * &lt;/p>
 * &lt;p>
 *  ProAct.Val is part of the properties module of ProAct.js.
 * &lt;/p>
 *
 * @class ProAct.Val
 * @extends ProAct.Observable
 * @param {Object} val
 *      The value that will be wrapped and tracked by the ProAct.Val being created.
 * @param {String} meta
 *      Meta-data passed to the {@link ProAct.Property} construction logic.
 * @see {@link ProAct.ObjectCore}
 * @see {@link ProAct.Property}
 */
ProAct.Val = P.V = function (val, meta) {
  this.v = val;

  if (meta && (P.U.isString(meta) || P.U.isArray(meta))) {
    meta = {
      v: meta
    };
  }

  P.prob(this, meta);
};

ProAct.Val.prototype = P.U.ex(Object.create(P.Observable.prototype), {

  /**
   * Reference to the constructor of this object.
   *
   * @memberof ProAct.Val
   * @instance
   * @constant
   * @default ProAct.Val
   */
  constructor: ProAct.Val,

  /**
   * Retrieves the {@link ProAct.Property.Types} value of &lt;i>this&lt;/i> {@link ProAct.Property} managing the 'v' field.
   *
   * @memberof ProAct.Val
   * @instance
   * @method type
   * @return {Number}
   *      The right type of the 'v' field's property.
   * @see {@link ProAct.Property.Types}
   * @see {@link ProAct.Property#type}
   */
  type: function () {
    return this.__pro__.properties.v.type();
  },

  /**
   * Attaches a new listener to the {@link ProAct.Property} managing the 'v' field of &lt;i>this&lt;/i>.
   * The listener may be function or object that defines a &lt;i>call&lt;/i> method.
   *
   * @memberof ProAct.Val
   * @instance
   * @method on
   * @param {Array|String} actions
   *      The action/actions to listen for. If this parameter is skipped or null/undefined, the actions from {@link ProAct.Observable#defaultActions} are used.
   *      &lt;p>
   *        The actions can be skipped and on their place as first parameter to be passed the &lt;i>listener&lt;/i>.
   *      &lt;/p>
   * @param {Object} listener
   *      The listener to attach. It must be instance of Function or object with a &lt;i>call&lt;/i> method.
   * @return {ProAct.Val}
   *      &lt;b>this&lt;/b>
   * @see {@link ProAct.Observable#defaultActions}
   * @see {@link ProAct.Property}
   */
  on: function (action, listener) {
    this.__pro__.properties.v.on(action, listener);
    return this;
  },

  /**
   * Removes a &lt;i>listener&lt;/i> from the {@link ProAct.Property} managing the 'v' field of &lt;i>this&lt;/i> for passed &lt;i>action&lt;/i>.
   * &lt;p>
   *  If this method is called without parameters, all the listeners for all the actions are removed.
   *  The listeners are reset using {@link ProAct.Observable#defaultListeners}.
   * &lt;/p>
   *
   * @memberof ProAct.Val
   * @instance
   * @method off
   * @param {Array|String} actions
   *      The action/actions to stop listening for. If this parameter is skipped or null/undefined, the actions from {@link ProAct.Observable#defaultActions} are used.
   *      &lt;p>
   *        The actions can be skipped and on their place as first parameter to be passed the &lt;i>listener&lt;/i>.
   *      &lt;/p>
   * @param {Object} listener
   *      The listener to detach. If it is skipped, null or undefined all the listeners are removed.
   * @return {ProAct.Val}
   *      &lt;b>this&lt;/b>
   * @see {@link ProAct.Observable#defaultActions}
   * @see {@link ProAct.Property}
   */
  off: function (action, listener) {
    this.__pro__.properties.v.off(action, listener);
    return this;
  },

  /**
   * Attaches a new error listener to the {@link ProAct.Property} managing the 'v' field of &lt;i>this&lt;/i>.
   * The listener may be function or object that defines a &lt;i>call&lt;/i> method.
   *
   * @memberof ProAct.Val
   * @instance
   * @method onErr
   * @param {Object} listener
   *      The listener to attach. It must be instance of Function or object with a &lt;i>call&lt;/i> method.
   * @return {ProAct.Val}
   *      &lt;b>this&lt;/b>
   * @see {@link ProAct.Val#on}
   */
  onErr: function (listener) {
    this.__pro__.properties.v.onErr(listener);
    return this;
  },

  /**
   * Removes an error &lt;i>listener&lt;/i> from the {@link ProAct.Property} managing the 'v' field of &lt;i>this&lt;/i>.
   *
   * @memberof ProAct.Val
   * @instance
   * @method offErr
   * @param {Object} listener
   *      The listener to detach. If it is skipped, null or undefined all the listeners are removed.
   * @return {ProAct.Val}
   *      &lt;b>this&lt;/b>
   * @see {@link ProAct.Val#onErr}
   */
  offErr: function (listener) {
    this.__pro__.properties.v.offErr(listener);
    return this;
  },

  /**
   * Adds a new &lt;i>transformation&lt;/i> to the list of transformations
   * of the {@link ProAct.Property} managing the 'v' field of &lt;i>this&lt;/i>.
   * &lt;p>
   *  A transformation is a function or an object that has a &lt;i>call&lt;/i> method defined.
   *  This function or call method should have one argument and to return a transformed version of it.
   *  If the returned value is {@link ProAct.Observable.BadValue}, the next transformations are skipped and the updating
   *  value/event becomes - bad value.
   * &lt;/p>
   * &lt;p>
   *  Every value/event that updates the {@link ProAct.Property} managing the 'v' field of &lt;i>this&lt;/i> will be transformed using the new transformation.
   * &lt;/p>
   *
   * @memberof ProAct.Val
   * @instance
   * @method transform
   * @param {Object} transformation
   *      The transformation to add.
   * @return {ProAct.Val}
   *      &lt;b>this&lt;/b>
   * @see {@link ProAct.Observable.transform}
   */
  transform: function (transformation) {
    this.__pro__.properties.v.transform(transformation);
    return this;
  },

  /**
   * Links source {@link ProAct.Observable}s into the {@link ProAct.Property} managing the 'v' field of &lt;i>this&lt;/i>.
   * This means that the property is listening for changes from the &lt;i>sources&lt;/i>.
   *
   * @memberof ProAct.Val
   * @instance
   * @method into
   * @param [...]
   *      Zero or more source {@link ProAct.Observables} to set as sources.
   * @return {ProAct.Val}
   *      &lt;b>this&lt;/b>
   */
  into: function () {
    this.__pro__.properties.v.into.apply(this.__pro__.properties.v, arguments);
    return this;
  },

  /**
   * The reverse of {@link ProAct.Val#into} - sets the {@link ProAct.Property} managing the 'v' field of &lt;i>this&lt;/i> as a source
   * to the passed &lt;i>destination&lt;/i> observable.
   *
   * @memberof ProAct.Val
   * @instance
   * @method out
   * @param {ProAct.Observable} destination
   *      The observable to set as source the {@link ProAct.Property} managing the 'v' field of &lt;i>this&lt;/i> to.
   * @return {ProAct.Val}
   *      &lt;b>this&lt;/b>
   * @see {@link ProAct.Val#into}
   */
  out: function (destination) {
    this.__pro__.properties.v.out(destination);
    return this;
  },

  /**
   * Update notifies all the observers of the {@link ProAct.Property} managing the 'v' field of &lt;i>this&lt;/i>.
   *
   * @memberof ProAct.Val
   * @instance
   * @method update
   * @param {Object} source
   *      The source of the update, for example update of {@link ProAct.Observable},
   *      that the {@link ProAct.Property} managing the 'v' field of &lt;i>this&lt;/i> is observing.
   *      &lt;p>
   *        Can be null - no source.
   *      &lt;/p>
   *      &lt;p>
   *        In the most cases {@link ProAct.Event} is the source.
   *      &lt;/p>
   * @param {Array|String} actions
   *      A list of actions or a single action to update the listeners that listen to it.
   * @param {Array} eventData
   *      Data to be passed to the event to be created.
   * @return {ProAct.Val}
   *      &lt;i>this&lt;/i>
   * @see {@link ProAct.Observable#update}
   * @see {@link ProAct.Property#makeEvent}
   * @see {@link ProAct.flow}
   */
  update: function (source, actions, eventData) {
    this.__pro__.properties.v.update(source, actions, eventData);
    return this;
  },

  /**
   * &lt;b>willUpdate()&lt;/b> is the method used to notify observers that the {@link ProAct.Property} managing the 'v' field of &lt;i>this&lt;/i> will be updated.
   * &lt;p>
   *  It uses the {@link ProAct.Observable#defer} to defer the listeners of the listening {@link ProAct.Observable}s.
   *  The idea is that everything should be executed in a running {@link ProAct.Flow}, so there will be no repetative
   *  updates.
   * &lt;/p>
   * &lt;p>
   *  The update value will come from the {@link ProAct.Property#makeEvent} method and the &lt;i>source&lt;/i>
   *  parameter will be passed to it.
   * &lt;/p>
   *
   * @memberof ProAct.Val
   * @instance
   * @method willUpdate
   * @param {Object} source
   *      The source of the update, for example update of {@link ProAct.Observable},
   *      that the {@link ProAct.Property} managing the 'v' field of &lt;i>this&lt;/i> is observing.
   *      &lt;p>
   *        Can be null - no source.
   *      &lt;/p>
   *      &lt;p>
   *        In the most cases {@link ProAct.Event} is the source.
   *      &lt;/p>
   * @param {Array|String} actions
   *      A list of actions or a single action to update the listeners that listen to it.
   *      If there is no action provided, the actions from {@link ProAct.Observable#defaultActions} are used.
   * @param {Array} eventData
   *      Data to be passed to the event to be created.
   * @return {ProAct.Val}
   *      &lt;i>this&lt;/i>
   * @see {@link ProAct.Observable#defer}
   * @see {@link ProAct.Property#makeEvent}
   * @see {@link ProAct.Observable#defaultActions}
   * @see {@link ProAct.flow}
   */
  willUpdate: function (source, actions, eventData) {
    this.__pro__.properties.v.willUpdate(source, actions, eventData);
    return this;
  },

  /**
   * The value set to &lt;i>this&lt;/i>' 'v' property. By reaing it using this method, no listeners set to
   * {@link ProAct.currentCaller} are attached.
   *
   * @memberof ProAct.Val
   * @instance
   * @method valueOf
   * @return {Object}
   *      The actual value set in &lt;i>this&lt;/i>.
   */
  valueOf: function () {
    return this.__pro__.properties.v.val;
  },

  /**
   * A string representation of the value set to &lt;i>this&lt;/i>' 'v' property.
   * By reaing it using this method, no listeners set to {@link ProAct.currentCaller} are attached.
   *
   * @memberof ProAct.Val
   * @instance
   * @method toString
   * @return {Object}
   *      A string representation of the actual value set in &lt;i>this&lt;/i>.
   */
  toString: function () {
    return this.valueOf().toString();
  }
});
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Index</a></h2><h3>Classes</h3><ul><li><a href="ProAct.Array.html">Array</a></li><li><a href="ProAct.ArrayCore.html">ArrayCore</a></li><li><a href="ProAct.ArrayProperty.html">ArrayProperty</a></li><li><a href="ProAct.ArrayPropertyProvider.html">ArrayPropertyProvider</a></li><li><a href="ProAct.AutoProperty.html">AutoProperty</a></li><li><a href="ProAct.AutoPropertyProvider.html">AutoPropertyProvider</a></li><li><a href="ProAct.BufferedStream.html">BufferedStream</a></li><li><a href="ProAct.Core.html">Core</a></li><li><a href="ProAct.DebouncingStream.html">DebouncingStream</a></li><li><a href="ProAct.DelayedStream.html">DelayedStream</a></li><li><a href="ProAct.Event.html">Event</a></li><li><a href="ProAct.Flow.html">Flow</a></li><li><a href="ProAct.NullProperty.html">NullProperty</a></li><li><a href="ProAct.NullPropertyProvider.html">NullPropertyProvider</a></li><li><a href="ProAct.ObjectCore.html">ObjectCore</a></li><li><a href="ProAct.ObjectProperty.html">ObjectProperty</a></li><li><a href="ProAct.ObjectPropertyProvider.html">ObjectPropertyProvider</a></li><li><a href="ProAct.Observable.html">Observable</a></li><li><a href="ProAct.Property.html">Property</a></li><li><a href="ProAct.PropertyProvider.html">PropertyProvider</a></li><li><a href="ProAct.ProxyProperty.html">ProxyProperty</a></li><li><a href="ProAct.ProxyPropertyProvider.html">ProxyPropertyProvider</a></li><li><a href="ProAct.Queue.html">Queue</a></li><li><a href="ProAct.Queues.html">Queues</a></li><li><a href="ProAct.Registry.html">Registry</a></li><li><a href="ProAct.Registry.FunctionProvider.html">FunctionProvider</a></li><li><a href="ProAct.Registry.ProObjectProvider.html">ProObjectProvider</a></li><li><a href="ProAct.Registry.Provider.html">Provider</a></li><li><a href="ProAct.Registry.StreamProvider.html">StreamProvider</a></li><li><a href="ProAct.SimplePropertyProvider.html">SimplePropertyProvider</a></li><li><a href="ProAct.SizeBufferedStream.html">SizeBufferedStream</a></li><li><a href="ProAct.Stream.html">Stream</a></li><li><a href="ProAct.ThrottlingStream.html">ThrottlingStream</a></li><li><a href="ProAct.Val.html">Val</a></li></ul><h3>Namespaces</h3><ul><li><a href="ProAct.html">ProAct</a></li><li><a href="ProAct.Array.Listeners.html">Listeners</a></li><li><a href="ProAct.Array.Operations.html">Operations</a></li><li><a href="ProAct.Configuration.html">Configuration</a></li><li><a href="ProAct.DSL.html">DSL</a></li><li><a href="ProAct.DSL.ops.html">ops</a></li><li><a href="ProAct.DSL.predefined.html">predefined</a></li><li><a href="ProAct.DSL.predefined.accumulation.html">accumulation</a></li><li><a href="ProAct.DSL.predefined.filtering.html">filtering</a></li><li><a href="ProAct.DSL.predefined.mapping.html">mapping</a></li><li><a href="ProAct.Event.Types.html">Types</a></li><li><a href="ProAct.OpStore.html">OpStore</a></li><li><a href="ProAct.Property.Types.html">Types</a></li><li><a href="ProAct.Registry.ProObjectProvider.types.html">types</a></li><li><a href="ProAct.Registry.Provider.types.html">types</a></li><li><a href="ProAct.Registry.StreamProvider.types.html">types</a></li><li><a href="ProAct.States.html">States</a></li><li><a href="ProAct.Utils.html">Utils</a></li></ul>
</nav>

<br clear="both">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.2.2</a> on Fri Aug 15 2014 05:03:06 GMT+0300 (EEST)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
