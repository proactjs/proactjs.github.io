<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: properties/property_provider.js</title>
    
    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">
    
    <h1 class="page-title">Source: properties/property_provider.js</h1>
    
    


    
    <section>
        <article>
            <pre class="prettyprint source"><code>/**
 * &lt;p>
 *  Constructor for ProAct.PropertyProvider. The ProAct.PropertyProvider is an abstract class.
 * &lt;/p>
 * &lt;p>
 *  Many providers can be registered for many kinds of properties.
 * &lt;/p>
 * &lt;p>
 *  When a ProAct.js object is initialized its fields are turned into properties.
 *  Depending on the type and the name of the field, as well as meta information the valid
 *  type of {@link ProAct.Property} is created and used. The PropertyProviders have 'filter'
 *  method and depending on it the valid kind is decided.
 * &lt;/p>
 * &lt;p>
 *  ProAct.PropertyProvider is part of the properties module of ProAct.js.
 * &lt;/p>
 *
 * @class ProAct.PropertyProvider
 * @see {@link ProAct.ObjectCore}
 */
ProAct.PropertyProvider = P.PP = function () {};


(function (P) {
  var providers =  [];

  P.U.ex(P.PP, {


    /**
     * Registers a ProAct.PropertyProvider.
     * &lt;p>
     *  The provider is appended in the end of the list of ProAct.PropertyProviders.
     * &lt;/p>
     * &lt;p>
     *  When a property must be provided if there is a ProAct.PropertyProvider registered before
     *  the passed &lt;i>propertyProvider&lt;/i>, with valid filtering for the passed field, it will
     *  be used instead.
     * &lt;/p>
     *
     * @memberof ProAct.PropertyProvider
     * @static
     * @param {ProAct.PropertyProvider} propertyProvider
     *      The ProAct.PropertyProvider to register.
     */
    registerProvider: function (propertyProvider) {
      providers.push(propertyProvider);
    },

    /**
     * Registers a ProAct.PropertyProvider.
     * &lt;p>
     *  The provider is prepended in the beginning of the list of ProAct.PropertyProviders.
     * &lt;/p>
     * &lt;p>
     *  It's filtering will be called before any other registered provider.
     * &lt;/p>
     *
     * @memberof ProAct.PropertyProvider
     * @static
     * @param {ProAct.PropertyProvider} propertyProvider
     *      The ProAct.PropertyProvider to register.
     */
    prependProvider: function (propertyProvider) {
      providers.unshift(propertyProvider);
    },

    /**
     * Removes a ProAct.PropertyProvider from the list of ProAct.PropertyProviders.
     *
     * @memberof ProAct.PropertyProvider
     * @static
     * @param {ProAct.PropertyProvider} propertyProvider
     *      The ProAct.PropertyProvider to unregister.
     */
    unregisterProvider: function (propertyProvider) {
      P.U.remove(providers, propertyProvider);
    },

    /**
     * Removes all ProAct.PropertyProviders from the list of ProAct.PropertyProviders.
     *
     * @memberof ProAct.PropertyProvider
     * @static
     */
    clearProviders: function () {
      providers = [];
    },

    /**
     * Provides a {@link ProAct.Property} instance using the list of the registered
     * ProAct.PropertyProviders.
     * &lt;p>
     *  The providers are tried in the order of their registration (the order can be changed using {@link ProAct.PropertyProvider.prependProvider}).
     * &lt;/p>
     * &lt;p>
     *  The {@link ProAct.PropertyProvider#filter} method is used to check if a provider is compliant with the passed arguments.
     * &lt;/p>
     * &lt;p>
     *  If a compliant provider is found, its {@link ProAct.PropertyProvider#provide} method is used to provide the {@link ProAct.Property} instance.
     * &lt;/p>
     *
     * @memberof ProAct.PropertyProvider
     * @static
     * @param {Object} object
     *      The object to provide a {@link ProAct.Property} instance for.
     * @param {String} property
     *      The field name of the &lt;i>object&lt;/i> to turn into a {@link ProAct.Property}.
     * @param {String|Array} meta
     *      Meta information to be used for filtering and configuration of the {@link ProAct.Property} instance to be provided.
     * @return {ProAct.Property}
     *      A property provided by registered provider, or null if there is no compliant provider.
     */
    provide: function (object, property, meta) {
      var ln = providers.length,
          prop = null,
          provider = null,
          i;

      for (i = 0; i &lt; ln; i++) {
        provider = providers[i];
        if (provider.filter(object, property, meta)) {
          break;
        } else {
          provider = null;
        }
      }

      if (provider) {
        prop = provider.provide(object, property, meta);
      }

      return prop;
    }
  });
}(P));

ProAct.PropertyProvider.prototype = {

  /**
   * Reference to the constructor of this object.
   *
   * @memberof ProAct.PropertyProvider
   * @instance
   * @constant
   * @default ProAct.PropertyProvider
   */
  constructor: ProAct.PropertyProvider,

  /**
   * Used to check if this {@link ProAct.PropertyProvider} is compliant with the field and meta data
   * to be used for creating a {@link ProAct.Property} instance with {@link ProAct.PropertyProvider#provide}.
   * &lt;p>
   *  Abstract - must be implemented in an extender.
   * &lt;/p>
   *
   * @memberof ProAct.PropertyProvider
   * @abstract
   * @instance
   * @method filter
   * @param {Object} object
   *      The object to which a new {@link ProAct.Property} instance should be provided.
   * @param {String} property
   *      The field name of the &lt;i>object&lt;/i> to turn into a {@link ProAct.Property}. Can be used in the filtering process.
   *      &lt;p>
   *        For example field name beginning with foo. Can be turned into a FooProperty.
   *      &lt;/p>
   * @param {String|Array} meta
   *      Meta information to be used for filtering and configuration of the {@link ProAct.Property} instance to be provided.
   * @return {Boolean}
   *      If &lt;i>this&lt;/i> provider is compliant with the passed arguments.
   */
  filter: function (object, property, meta) {
    throw new Error('Abstract! Implement!');
  },

  /**
   * Provides an instance of {@link ProAct.Property}.
   * &lt;p>
   *  It should be called only after &lt;i>this&lt;/i> {@link ProAct.PropertyProvider#filter} method,
   *  called with the same arguments returns true.
   * &lt;/p>
   * &lt;p>
   *  Abstract - must be implemented in an extender.
   * &lt;/p>
   *
   * @memberof ProAct.PropertyProvider
   * @abstract
   * @instance
   * @method provide
   * @param {Object} object
   *      The object to which a new {@link ProAct.Property} instance should be provided.
   * @param {String} property
   *      The field of the &lt;i>object&lt;/i> to turn into a {@link ProAct.Property}. Can be used in the filtering process.
   * @param {String|Array} meta
   *      Meta information to be used for filtering and configuration of the {@link ProAct.Property} instance to be provided.
   * @return {ProAct.Property}
   *      A property provided by &lt;i>this&lt;/i> provider.
   */
  provide: function (object, property, meta) {
    throw new Error('Abstract! Implement!');
  }
};

/**
 * &lt;p>
 *  Constructor for ProAct.NullPropertyProvider.
 * &lt;/p>
 * &lt;p>
 *  Provides {@link ProAct.NullProperty} instances.
 * &lt;/p>
 * &lt;p>
 *  ProAct.NullPropertyProvider is part of the properties module of ProAct.js.
 * &lt;/p>
 *
 * @class ProAct.NullPropertyProvider
 * @extends ProAct.PropertyProvider
 * @see {@link ProAct.NullProperty}
 */
ProAct.NullPropertyProvider = P.NPP = function () {
  P.PP.call(this);
};

ProAct.NullPropertyProvider.prototype = P.U.ex(Object.create(P.PP.prototype), {

  /**
   * Reference to the constructor of this object.
   *
   * @memberof ProAct.NullPropertyProvider
   * @instance
   * @constant
   * @default ProAct.NullPropertyProvider
   */
  constructor: ProAct.NullPropertyProvider,

  /**
   * Used to check if this {@link ProAct.NullPropertyProvider} is compliant with the field and meta data.
   *
   * @memberof ProAct.NullPropertyProvider
   * @instance
   * @method filter
   * @param {Object} object
   *      The object to which a new {@link ProAct.Property} instance should be provided.
   * @param {String} property
   *      The field name of the &lt;i>object&lt;/i> to turn into a {@link ProAct.Property}. Can be used in the filtering process.
   * @param {String|Array} meta
   *      Meta information to be used for filtering and configuration of the {@link ProAct.Property} instance to be provided.
   * @return {Boolean}
   *      True if the value of &lt;b>object[property]&lt;/b> is undefined or null.
   */
  filter: function (object, property, meta) {
    return object[property] === null || object[property] === undefined;
  },

  /**
   * Provides an instance of {@link ProAct.NullProperty}.
   *
   * @memberof ProAct.NullPropertyProvider
   * @instance
   * @method provide
   * @param {Object} object
   *      The object to which a new {@link ProAct.NullProperty} instance should be provided.
   * @param {String} property
   *      The field of the &lt;i>object&lt;/i> to turn into a {@link ProAct.NullProperty}.
   * @param {String|Array} meta
   *      Meta information to be used for filtering and configuration of the {@link ProAct.NullProperty} instance to be provided.
   * @return {ProAct.NullProperty}
   *      A {@link ProAct.NullProperty} instance provided by &lt;i>this&lt;/i> provider.
   */
  provide: function (object, property, meta) {
    return new P.NP(object, property);
  }
});

/**
 * &lt;p>
 *  Constructor for ProAct.SimplePropertyProvider.
 * &lt;/p>
 * &lt;p>
 *  Provides {@link ProAct.Property} instances for fields of simple types - strings, numbers, booleans.
 * &lt;/p>
 * &lt;p>
 *  ProAct.SimplePropertyProvider is part of the properties module of ProAct.js.
 * &lt;/p>
 *
 * @class ProAct.SimplePropertyProvider
 * @extends ProAct.PropertyProvider
 * @see {@link ProAct.Property}
 */
ProAct.SimplePropertyProvider = P.SPP = function () {
  P.PP.call(this);
};

ProAct.SimplePropertyProvider.prototype = P.U.ex(Object.create(P.PP.prototype), {

  /**
   * Reference to the constructor of this object.
   *
   * @memberof ProAct.SimplePropertyProvider
   * @instance
   * @constant
   * @default ProAct.SimplePropertyProvider
   */
  constructor: ProAct.SimplePropertyProvider,

  /**
   * Used to check if this {@link ProAct.SimplePropertyProvider} is compliant with the field and meta data.
   *
   * @memberof ProAct.SimplePropertyProvider
   * @instance
   * @method filter
   * @param {Object} object
   *      The object to which a new {@link ProAct.Property} instance should be provided.
   * @param {String} property
   *      The field name of the &lt;i>object&lt;/i> to turn into a {@link ProAct.Property}. Can be used in the filtering process.
   * @param {String|Array} meta
   *      Meta information to be used for filtering and configuration of the {@link ProAct.Property} instance to be provided.
   * @return {Boolean}
   *      True if the value of &lt;b>object[property]&lt;/b> not undefined or null as well as object, array ot function.
   */
  filter: function (object, property, meta) {
    var v = object[property];
    return v !== null && v !== undefined && !P.U.isFunction(v) && !P.U.isArrayObject(v) && !P.U.isObject(v);
  },

  /**
   * Provides an instance of {@link ProAct.Property}.
   *
   * @memberof ProAct.SimplePropertyProvider
   * @instance
   * @method provide
   * @param {Object} object
   *      The object to which a new {@link ProAct.Property} instance should be provided.
   * @param {String} property
   *      The field of the &lt;i>object&lt;/i> to turn into a {@link ProAct.Property}.
   * @param {String|Array} meta
   *      Meta information to be used for filtering and configuration of the {@link ProAct.Property} instance to be provided.
   * @return {ProAct.Property}
   *      A {@link ProAct.Property} instance provided by &lt;i>this&lt;/i> provider.
   */
  provide: function (object, property, meta) {
    return new P.P(object, property);
  }
});

/**
 * &lt;p>
 *  Constructor for ProAct.AutoPropertyProvider.
 * &lt;/p>
 * &lt;p>
 *  Provides {@link ProAct.AutoProperty} instances for fields pointing to functions.
 * &lt;/p>
 * &lt;p>
 *  ProAct.AutoPropertyProvider is part of the properties module of ProAct.js.
 * &lt;/p>
 *
 * @class ProAct.AutoPropertyProvider
 * @extends ProAct.PropertyProvider
 * @see {@link ProAct.AutoProperty}
 */
ProAct.AutoPropertyProvider = P.FPP = function () {
  P.PP.call(this);
};

ProAct.AutoPropertyProvider.prototype = P.U.ex(Object.create(P.PP.prototype), {

  /**
   * Reference to the constructor of this object.
   *
   * @memberof ProAct.AutoPropertyProvider
   * @instance
   * @constant
   * @default ProAct.AutoPropertyProvider
   */
  constructor: ProAct.AutoPropertyProvider,

  /**
   * Used to check if this {@link ProAct.AutoPropertyProvider} is compliant with the field and meta data.
   *
   * @memberof ProAct.AutoPropertyProvider
   * @instance
   * @method filter
   * @param {Object} object
   *      The object to which a new {@link ProAct.AutoProperty} instance should be provided.
   * @param {String} property
   *      The field name of the &lt;i>object&lt;/i> to turn into a {@link ProAct.AutoProperty}.
   * @param {String|Array} meta
   *      Meta information to be used for filtering and configuration of the {@link ProAct.AutoProperty} instance to be provided.
   * @return {Boolean}
   *      True if the value of &lt;b>object[property]&lt;/b> a function.
   */
  filter: function (object, property, meta) {
    return P.U.isFunction(object[property]);
  },

  /**
   * Provides an instance of {@link ProAct.AutoProperty}.
   *
   * @memberof ProAct.AutoPropertyProvider
   * @instance
   * @method provide
   * @param {Object} object
   *      The object to which a new {@link ProAct.AutoProperty} instance should be provided.
   * @param {String} property
   *      The field of the &lt;i>object&lt;/i> to turn into a {@link ProAct.AutoProperty}.
   * @param {String|Array} meta
   *      Meta information to be used for filtering and configuration of the {@link ProAct.AutoProperty} instance to be provided.
   * @return {ProAct.AutoProperty}
   *      A {@link ProAct.AutoProperty} instance provided by &lt;i>this&lt;/i> provider.
   */
  provide: function (object, property, meta) {
    return new P.FP(object, property);
  }
});

/**
 * &lt;p>
 *  Constructor for ProAct.ArrayPropertyProvider.
 * &lt;/p>
 * &lt;p>
 *  Provides {@link ProAct.ArrayProperty} instances for fields pointing to arrays.
 * &lt;/p>
 * &lt;p>
 *  ProAct.ArrayPropertyProvider is part of the properties module of ProAct.js.
 * &lt;/p>
 *
 * @class ProAct.ArrayPropertyProvider
 * @extends ProAct.PropertyProvider
 * @see {@link ProAct.ArrayProperty}
 */
ProAct.ArrayPropertyProvider = P.APP = function () {
  P.PP.call(this);
};

ProAct.ArrayPropertyProvider.prototype = P.U.ex(Object.create(P.PP.prototype), {

  /**
   * Reference to the constructor of this object.
   *
   * @memberof ProAct.ArrayPropertyProvider
   * @instance
   * @constant
   * @default ProAct.ArrayPropertyProvider
   */
  constructor: ProAct.ArrayPropertyProvider,

  /**
   * Used to check if this {@link ProAct.ArrayPropertyProvider} is compliant with the field and meta data.
   *
   * @memberof ProAct.ArrayPropertyProvider
   * @instance
   * @method filter
   * @param {Object} object
   *      The object to which a new {@link ProAct.ArrayProperty} instance should be provided.
   * @param {String} property
   *      The field name of the &lt;i>object&lt;/i> to turn into a {@link ProAct.ArrayProperty}.
   * @param {String|Array} meta
   *      Meta information to be used for filtering and configuration of the {@link ProAct.ArrayProperty} instance to be provided.
   * @return {Boolean}
   *      True if the value of &lt;b>object[property]&lt;/b> an array.
   */
  filter: function (object, property, meta) {
    return P.U.isArrayObject(object[property]);
  },

  /**
   * Provides an instance of {@link ProAct.ArrayProperty}.
   *
   * @memberof ProAct.ArrayPropertyProvider
   * @instance
   * @method provide
   * @param {Object} object
   *      The object to which a new {@link ProAct.ArrayProperty} instance should be provided.
   * @param {String} property
   *      The field of the &lt;i>object&lt;/i> to turn into a {@link ProAct.ArrayProperty}.
   * @param {String|Array} meta
   *      Meta information to be used for filtering and configuration of the {@link ProAct.ArrayProperty} instance to be provided.
   * @return {ProAct.ArrayProperty}
   *      A {@link ProAct.ArrayProperty} instance provided by &lt;i>this&lt;/i> provider.
   */
  provide: function (object, property, meta) {
    return new P.AP(object, property);
  }
});

/**
 * &lt;p>
 *  Constructor for ProAct.ObjectPropertyProvider.
 * &lt;/p>
 * &lt;p>
 *  Provides {@link ProAct.ObjectProperty} instances for fields pointing to objects, different from arrays or functions.
 * &lt;/p>
 * &lt;p>
 *  ProAct.ObjectPropertyProvider is part of the properties module of ProAct.js.
 * &lt;/p>
 *
 * @class ProAct.ObjectPropertyProvider
 * @extends ProAct.PropertyProvider
 * @see {@link ProAct.ObjectProperty}
 */
ProAct.ObjectPropertyProvider = P.OPP = function () {
  P.PP.call(this);
};

ProAct.ObjectPropertyProvider.prototype = P.U.ex(Object.create(P.PP.prototype), {

  /**
   * Reference to the constructor of this object.
   *
   * @memberof ProAct.ObjectPropertyProvider
   * @instance
   * @constant
   * @default ProAct.ObjectPropertyProvider
   */
  constructor: ProAct.ObjectPropertyProvider,

  /**
   * Used to check if this {@link ProAct.ObjectPropertyProvider} is compliant with the field and meta data.
   *
   * @memberof ProAct.ObjectPropertyProvider
   * @instance
   * @method filter
   * @param {Object} object
   *      The object to which a new {@link ProAct.ObjectProperty} instance should be provided.
   * @param {String} property
   *      The field name of the &lt;i>object&lt;/i> to turn into a {@link ProAct.ObjectProperty}.
   * @param {String|Array} meta
   *      Meta information to be used for filtering and configuration of the {@link ProAct.ObjectProperty} instance to be provided.
   * @return {Boolean}
   *      True if the value of &lt;b>object[property]&lt;/b> an object, different from array or function.
   */
  filter: function (object, property, meta) {
    return P.U.isObject(object[property]);
  },

  /**
   * Provides an instance of {@link ProAct.ObjectProperty}.
   *
   * @memberof ProAct.ObjectPropertyProvider
   * @instance
   * @method provide
   * @param {Object} object
   *      The object to which a new {@link ProAct.ObjectProperty} instance should be provided.
   * @param {String} property
   *      The field of the &lt;i>object&lt;/i> to turn into a {@link ProAct.ObjectProperty}.
   * @param {String|Array} meta
   *      Meta information to be used for filtering and configuration of the {@link ProAct.ObjectProperty} instance to be provided.
   * @return {ProAct.ObjectProperty}
   *      A {@link ProAct.ObjectProperty} instance provided by &lt;i>this&lt;/i> provider.
   */
  provide: function (object, property, meta) {
    return new P.OP(object, property);
  }
});

P.PP.registerProvider(new P.NullPropertyProvider());
P.PP.registerProvider(new P.SimplePropertyProvider());
P.PP.registerProvider(new P.AutoPropertyProvider());
P.PP.registerProvider(new P.ArrayPropertyProvider());
P.PP.registerProvider(new P.ObjectPropertyProvider());
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Index</a></h2><h3>Classes</h3><ul><li><a href="ProAct.Array.html">Array</a></li><li><a href="ProAct.ArrayCore.html">ArrayCore</a></li><li><a href="ProAct.ArrayProperty.html">ArrayProperty</a></li><li><a href="ProAct.ArrayPropertyProvider.html">ArrayPropertyProvider</a></li><li><a href="ProAct.AutoProperty.html">AutoProperty</a></li><li><a href="ProAct.AutoPropertyProvider.html">AutoPropertyProvider</a></li><li><a href="ProAct.BufferedStream.html">BufferedStream</a></li><li><a href="ProAct.Core.html">Core</a></li><li><a href="ProAct.DebouncingStream.html">DebouncingStream</a></li><li><a href="ProAct.DelayedStream.html">DelayedStream</a></li><li><a href="ProAct.Event.html">Event</a></li><li><a href="ProAct.Flow.html">Flow</a></li><li><a href="ProAct.NullProperty.html">NullProperty</a></li><li><a href="ProAct.NullPropertyProvider.html">NullPropertyProvider</a></li><li><a href="ProAct.ObjectCore.html">ObjectCore</a></li><li><a href="ProAct.ObjectProperty.html">ObjectProperty</a></li><li><a href="ProAct.ObjectPropertyProvider.html">ObjectPropertyProvider</a></li><li><a href="ProAct.Observable.html">Observable</a></li><li><a href="ProAct.Property.html">Property</a></li><li><a href="ProAct.PropertyProvider.html">PropertyProvider</a></li><li><a href="ProAct.Queue.html">Queue</a></li><li><a href="ProAct.Queues.html">Queues</a></li><li><a href="ProAct.Registry.html">Registry</a></li><li><a href="ProAct.Registry.FunctionProvider.html">FunctionProvider</a></li><li><a href="ProAct.Registry.ProObjectProvider.html">ProObjectProvider</a></li><li><a href="ProAct.Registry.Provider.html">Provider</a></li><li><a href="ProAct.Registry.StreamProvider.html">StreamProvider</a></li><li><a href="ProAct.SimplePropertyProvider.html">SimplePropertyProvider</a></li><li><a href="ProAct.SizeBufferedStream.html">SizeBufferedStream</a></li><li><a href="ProAct.Stream.html">Stream</a></li><li><a href="ProAct.ThrottlingStream.html">ThrottlingStream</a></li><li><a href="ProAct.Val.html">Val</a></li></ul><h3>Namespaces</h3><ul><li><a href="ProAct.html">ProAct</a></li><li><a href="ProAct.Array.Listeners.html">Listeners</a></li><li><a href="ProAct.Array.Operations.html">Operations</a></li><li><a href="ProAct.Configuration.html">Configuration</a></li><li><a href="ProAct.DSL.html">DSL</a></li><li><a href="ProAct.DSL.ops.html">ops</a></li><li><a href="ProAct.DSL.predefined.html">predefined</a></li><li><a href="ProAct.DSL.predefined.accumulation.html">accumulation</a></li><li><a href="ProAct.DSL.predefined.filtering.html">filtering</a></li><li><a href="ProAct.DSL.predefined.mapping.html">mapping</a></li><li><a href="ProAct.Event.Types.html">Types</a></li><li><a href="ProAct.OpStore.html">OpStore</a></li><li><a href="ProAct.Property.Types.html">Types</a></li><li><a href="ProAct.Registry.ProObjectProvider.types.html">types</a></li><li><a href="ProAct.Registry.Provider.types.html">types</a></li><li><a href="ProAct.Registry.StreamProvider.types.html">types</a></li><li><a href="ProAct.States.html">States</a></li><li><a href="ProAct.Utils.html">Utils</a></li></ul>
</nav>

<br clear="both">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.2.2</a> on Thu Aug 14 2014 21:28:34 GMT+0300 (EEST)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
